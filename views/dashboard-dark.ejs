<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ููุญุฉ ุงูุชุญูู | ุชูููู ุงูุงุญุชูุงุฌุงุช</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <style>
    body { background-color: #f8f9fa; font-family: 'Segoe UI', sans-serif; }
    .stat-card { border-radius: 1rem; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .chart-container { background: white; border-radius: 1rem; padding: 2rem; box-shadow: 0 0 10px rgba(0,0,0,0.05); }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand" href="#">๐ ููุตุฉ ุชูููู ุงูุงุญุชูุงุฌุงุช</a>
      <div class="d-flex">
        <a href="/survey" class="btn btn-outline-primary me-2">ุงูุงุณุชุจูุงู</a>
        <a href="/auth/logout" class="btn btn-danger">ุชุณุฌูู ุงูุฎุฑูุฌ</a>
      </div>
    </div>
  </nav>

  <div class="container py-5">
    <h2 class="text-center mb-5">ููุญุฉ ุงูุชุญูู - ูุชุงุฆุฌ ุงุณุชุจูุงู ุงูุนุงูููู ูุน ุงูุฃูุชุงู</h2>

    <!-- ุงูุจุทุงูุงุช -->
    <div class="row text-center mb-4">
      <div class="col-md-3 mb-3">
        <div class="bg-primary text-white p-4 stat-card">
          <h5>ุนุฏุฏ ุงููุดุงุฑููู</h5>
          <h2 id="totalParticipants">--</h2>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="bg-info text-white p-4 stat-card">
          <h5>ุนุฏุฏ ุงููุคุณุณุงุช</h5>
          <h2 id="totalOrganizations">--</h2>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="bg-success text-white p-4 stat-card">
          <h5>ูุณุจุฉ ุชูููุง ุชุฏุฑูุจ</h5>
          <h2 id="previousTrainingPercentage">--%</h2>
        </div>
      </div>
      <div class="col-md-3 mb-3">
        <div class="bg-warning text-dark p-4 stat-card">
          <h5>ุชุตุฏูุฑ ุงูุจูุงูุงุช</h5>
          <button class="btn btn-dark mt-2" onclick="exportToExcel()">Excel</button>
        </div>
      </div>
    </div>

    <!-- ุงูููุงุชุฑ -->
    <div class="row mb-4">
      <div class="col-md-3 mb-2">
        <label class="form-label">ุงููุคุณุณุฉ</label>
        <select id="filterOrganization" class="form-select"></select>
      </div>
      <div class="col-md-3 mb-2">
        <label class="form-label">ุฑูุฒ ุงููุคุณุณุฉ</label>
        <input id="filterCode" class="form-control" placeholder="ุฑูุฒ ุฃู ุฌุฒุก ููู">
      </div>
      <div class="col-md-3 mb-2">
        <label class="form-label">ุงููุฆุฉ ุงูุนูุฑูุฉ</label>
        <select id="filterAge" class="form-select">
          <option value="">ุงููู</option>
          <option value="ุฃูู ูู 18">ุฃูู ูู 18</option>
          <option value="18-25">18-25</option>
          <option value="26-35">26-35</option>
          <option value="36-45">36-45</option>
          <option value="ุฃูุซุฑ ูู 45">ุฃูุซุฑ ูู 45</option>
        </select>
      </div>
      <div class="col-md-3 mb-2">
        <label class="form-label">ุณุจู ูู ุชุฏุฑูุจ</label>
        <select id="filterTraining" class="form-select">
          <option value="">ุงููู</option>
          <option value="ูุนู">ูุนู</option>
          <option value="ูุง">ูุง</option>
        </select>
      </div>
    </div>

    <!-- ุงูุฑุณู ุงูุจูุงูู -->
    <div class="chart-container mb-5">
      <h5 class="text-center mb-3">ุชุญููู ุงููุฌุงูุงุช</h5>
      <canvas id="domainsChart" height="100"></canvas>
    </div>
  </div>

  <script src="/js/dashboard-dark.js"></script>
</body>
</html>
